<form class="triskel" autocomplete="off">
  <header class="sheet-header">
    <div class="profile-img">
      <img src="{{item.img}}" data-action="editImage" data-field="img" alt="{{item.name}}" />
    </div>
    <div class="header-fields">
      <h1 class="charname">
        <input name="name" data-field="name" type="text" value="{{item.name}}" placeholder="Item Name" />
      </h1>
      <div class="item-type-label">
        <span class="item-type-label__title">Typ</span>
        <span class="item-type-label__value">{{item.type}}</span>
      </div>
    </div>
  </header>

  <section class="item-panels">
    <div class="item-panel">
      <h2>Actions</h2>
      <ol class="reference-entries">
        {{#each references.actions as |reference|}}
          <li class="reference-row">
            <span class="reference-label">{{reference.label}}</span>
            <button type="button" data-action="removeActionReference" data-index="{{reference.index}}">Entfernen</button>
          </li>
        {{/each}}
        {{#unless references.actions.length}}
          <li class="reference-row reference-row--empty">Keine Referenzen hinterlegt</li>
        {{/unless}}
      </ol>

      <div class="reference-controls__inputs">
        <select
          id="actions-reference-select"
          name="actionsRef"
          data-reference-select="actions"
        >
          {{#each referenceOptions.actions as |option|}}
            <option value="{{option.value}}">{{option.label}}</option>
          {{/each}}
        </select>
    
        <button
          type="button"
          data-action="addActionReference"
          data-select-field="actionsRef"
          data-ref-path="system.actions.ref"
        >
          Hinzufügen
        </button>
      </div>

    </div>

    <div class="item-panel">
      <h2>Forms</h2>
      <ol class="reference-entries">
        {{#each references.forms as |reference|}}
          <li class="reference-row">
            <span class="reference-label">{{reference.label}}</span>
            <button type="button" data-action="removeFormReference" data-index="{{reference.index}}">Entfernen</button>
          </li>
        {{/each}}
        {{#unless references.forms.length}}
          <li class="reference-row reference-row--empty">Keine Referenzen hinterlegt</li>
        {{/unless}}
      </ol>

      <div class="reference-controls__inputs">
        <select
          id="forms-reference-select"
          name="formsRef"
          data-reference-select="forms"
        >
          {{#each referenceOptions.forms as |option|}}
            <option value="{{option.value}}">{{option.label}}</option>
          {{/each}}
        </select>
    
        <button
          type="button"
          data-action="addFormReference"
          data-select-field="formsRef"
          data-ref-path="system.forms.ref"
        >
          Hinzufügen
        </button>
      </div>
    </div>

    <div class="item-panel">
      <h2>Modifiers</h2>
      <ol class="reference-entries">
        {{#each modifiers as |modifier|}}
          <li class="reference-row">
            <span class="reference-label">{{modifier.label}}</span>
            <span class="modifier-value">{{modifier.value}}</span>
            <button type="button" data-action="removeModifier" data-index="{{modifier.index}}">Entfernen</button>
          </li>
        {{/each}}
        {{#unless modifiers.length}}
          <li class="reference-row reference-row--empty">Keine Modifiers hinterlegt</li>
        {{/unless}}
      </ol>
      
      <div class="reference-controls__inputs">
        <select
          id="modifier-skill"
          name="modifierSkill"
          data-modifier-skill
        >
          {{#each modifierOptions as |option|}}
            <option value="{{option.value}}">{{option.label}}</option>
          {{/each}}
        </select>
    
        <input
          type="number"
          step="1"
          value="0"
          id="modifier-value"
          name="modifierValue"
          data-modifier-value
        />

        <button
          type="button"
          data-action="addModifier"
          data-skill-field="modifierSkill"
          data-value-field="modifierValue"
          data-ref-path="system.modifiers"
        >
          Hinzufügen
        </button>
      </div>

    </div>
  </section>
</form>
