<section
  class="tab {{tabs.actions.id}} {{tabs.actions.cssClass}}"
  data-tab="{{tabs.actions.id}}"
  data-group="{{tabs.actions.group}}"
>
  {{#*inline "actionRows"}}
    <div
      class="actions-list"
      role="list"
      data-action-kind="{{actionKind}}"
      id="actions-list-{{renderNonce}}"
    >
      {{#each this as |action i|}}
        <article
          class="action-row is-interactive {{action.reserve}}"
          role="button"
          tabindex="0"
          id="action-row-{{../actionKind}}-{{action.id}}"
          data-action="selectAction"
          data-action-key="{{action.id}}"
          data-action-index="{{i}}"
          data-action-label="{{action.label}}"
          data-action-type="{{actionKind}}"
          data-reserve="{{action.reserve}}"
          {{#if action.description}}
            title="{{action.description}}"
          {{/if}}
        >
          {{#if action.icon}}
            <i class="action-row__icon fa-fw {{action.icon}}" aria-hidden="true"></i>
          {{else if action.image}}
            <img class="action-row__icon" src="{{action.image}}" alt="" />
          {{/if}}

          <div class="action-row__label">{{action.label}}</div>
          {{#if action.skill}}
            <div class="action-row__bonus">{{numberFormat action.skillTotal decimals=0 sign=true}}</div>
            <div class="action-row__skill">{{action.skillLabel}}</div>
          {{/if}}
          {{#if action.reserve}}
            {{#if action.cost}}
              <div class="action-row__cost">{{numberFormat action.cost decimals=0}}</div>
            {{/if}}
            <div class="action-row__reserve">
              {{#if action.reserveLabel}}
                {{action.reserveLabel}}
              {{else}}
                {{action.reserve}}
              {{/if}}
            </div>
          {{/if}}
          <div class="action-row__forms" role="group">
            {{#if action.forms.length}}
              {{#each action.forms as |form|}}
                <button
                  type="button"
                  class="action-row__form is-interactive {{form.reserve}} {{#if form.active}}is-selected{{/if}}"
                  title="{{#if form.description}}{{form.label}} â€” {{form.description}}{{else}}{{form.label}}{{/if}}"
                  data-action="toggleForm"
                  data-form-key="{{form.id}}"
                  data-reserve="{{form.reserve}}"
                  data-selection-collection="{{action.selectionCollection}}"
                >
                  {{#if form.image}}
                    <img class="action-row__form-icon" src="{{form.image}}" alt="" />
                  {{/if}}
                  {{#if form.cost}}
                    <span class="action-row__form-cost">{{numberFormat form.cost decimals=0}}</span>
                  {{/if}}
                </button>
              {{/each}}
            {{/if}}
          </div>
        </article>
      {{/each}}
    </div>
  {{/inline}}

  {{#if actionTypeFilters.length}}
    <div class="actions-phase-filter">
      <span class="actions-phase-filter__label">Phase</span>
      <div class="actions-phase-filter__options">
        {{#each actionTypeFilters as |filter|}}
          <div
            class="actions-phase-filter__option is-interactive {{#if filter.isSelected}}is-selected{{/if}}"
            data-action="filterActionType"
            data-filter-value="{{filter.id}}"
            data-tooltip="{{localize filter.description}}"
          >
            {{localize filter.label}}
          </div>
        {{/each}}
      </div>
    </div>
  {{/if}}

  {{#if actions.hasEntries}}
    <h2 class="actions-subtitle">{{localize "TRISKEL.Actor.Tab.Actions"}}</h2>
    {{> actionRows actions.collection actionKind="action" renderNonce=actions.renderNonce}}
  {{/if}}

  {{#if spells.hasEntries}}
    <h2 class="actions-subtitle">{{localize "TRISKEL.Item.Type.Spell"}}</h2>
    {{> actionRows spells.collection actionKind="spell" renderNonce=spells.renderNonce}}
  {{/if}}
</section>
