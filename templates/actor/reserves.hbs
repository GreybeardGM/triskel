<section class="reserves">
  <h2>Reserves</h2>
  <div class="reserve-grid">
    {{#each reserves as |reserve key|}}
      <div class="resource-bar {{key}}">
        {{#each reserve._segments as |segment|}}
          <div
            class="resource-box segment-{{segment.state}}"
            {{#if segment.clickable}}
              data-action="updateResourceValue"
              data-resource="reserves.{{key}}"
              data-resource-value="{{segment.index}}"
            {{/if}}
          >
            {{segment.index}}
          </div>
        {{/each}}
      </div>
      <div class="resource-input" data-reserve="{{key}}">
        <div class="resource-max">
          <label class="resource-name" for="reserve-{{key}}-max">{{reserve.label}}</label>
          <input
            id="reserve-{{key}}-max"
            class="resource-max-input"
            type="number"
            data-dtype="Number"
            name="system.reserves.{{key}}.max"
            value="{{reserve.max}}"
          />
        </div>
        <footer class="reserve-strain">
          <span>Strains</span>
          <ul class="strain-track">
            {{#each reserve.strain as |ischecked strainKey|}}
              <li>
                <label class="strain-step">
                  <input
                    type="checkbox"
                    name="system.reserves.{{key}}.strain.{{strainKey}}"
                    {{checked ischecked}}
                  />
                  <span>{{strainKey}}</span>
                </label>
              </li>
            {{/each}}
          </ul>
        </footer>
      </div>
    {{/each}}
    {{#if tension._segments}}
      <div class="resource-bar tension">
        {{#each tension._segments as |segment|}}
          <div
            class="resource-box segment-{{segment.state}}"
            {{#if segment.clickable}}
              data-action="updateResourceValue"
              data-resource="tension"
              data-resource-value="{{segment.index}}"
            {{/if}}
          >
            {{segment.index}}
          </div>
        {{/each}}
      </div>
    {{/if}}
  </div>
</section>
